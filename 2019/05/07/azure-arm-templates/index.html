<!doctype html><html lang=en><head><meta charset=utf-8><title>Azure ARM Templates - Manuss20</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.75.1"><meta itemprop=name content="Azure ARM Templates"><meta itemprop=description content="Las plantillas de Azure ARM (Azure Resource Manager) permite aprovisionar las aplicaciones usando una plantilla declarativa. En una sola plantilla, se pueden implementar varios servicios junto con sus dependencias. Se usa la misma plantilla para implementar repetidamente la aplicación durante cada etapa de su ciclo de vida."><meta itemprop=datePublished content="2019-05-07T00:00:00+00:00"><meta itemprop=dateModified content="2019-05-07T00:00:00+00:00"><meta itemprop=wordCount content="560"><meta itemprop=image content="https://manuss20.github.io/img/posts/Azure-ARM.jpg"><meta itemprop=keywords content="Azure,ARM,Azure ARM,CD,CI,Deploy,Group Resources,Templates,Automation,Cloud,"><meta property="og:title" content="Azure ARM Templates"><meta property="og:description" content="Las plantillas de Azure ARM (Azure Resource Manager) permite aprovisionar las aplicaciones usando una plantilla declarativa. En una sola plantilla, se pueden implementar varios servicios junto con sus dependencias. Se usa la misma plantilla para implementar repetidamente la aplicación durante cada etapa de su ciclo de vida."><meta property="og:type" content="article"><meta property="og:url" content="https://manuss20.github.io/2019/05/07/azure-arm-templates/"><meta property="og:image" content="https://manuss20.github.io/img/posts/Azure-ARM.jpg"><meta property="article:published_time" content="2019-05-07T00:00:00+00:00"><meta property="article:modified_time" content="2019-05-07T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://manuss20.github.io/img/posts/Azure-ARM.jpg"><meta name=twitter:title content="Azure ARM Templates"><meta name=twitter:description content="Las plantillas de Azure ARM (Azure Resource Manager) permite aprovisionar las aplicaciones usando una plantilla declarativa. En una sola plantilla, se pueden implementar varios servicios junto con sus dependencias. Se usa la misma plantilla para implementar repetidamente la aplicación durante cada etapa de su ciclo de vida."><meta name=twitter:site content="@manuss20"><link rel=stylesheet href=/css/bundle.min.759e3848ea529eef056dab665b241e2af569e601ab80f68f8d4a4d002a155dd4.css integrity="sha256-dZ44SOpSnu8FbatmWyQeKvVp5gGrgPaPjUpNACoVXdQ="><link rel=stylesheet href=/css/add-on.css></head><body><header id=site-header><nav id=site-nav><h1 class=nav-title><a href=/ class=nav>Blog</a></h1><menu id=site-nav-menu class="flyout-menu menu"><a href=/ class="nav link"><i class="fa fa-home"></i>Home</a>
<a href=/about/ class="nav link"><i class="fas fa-user-astronaut"></i>About</a>
<a href=/categories/ class="nav link"><i class="fas fa-journal-whills"></i>Categories</a>
<a href=#search-input class="nav search-toggle"><i class="fas fa-search">&nbsp;</i>Search</a></menu>
<a href=#search-input class="nav search-toggle"><i class="fas fa-search fa-2x">&nbsp;</i></a>
<a href=#site-nav class="nav nav-toggle"><i class="fas fa-bars fa-2x"></i></a></nav><menu id=search class=menu><input id=search-input class="search-input menu"></input><div id=search-results class="search-results menu"></div></menu></header><div id=wrapper><section id=site-intro><a href=/><img src=https://manuss20.github.io/img/main/profile.jpg class=circle width=100 alt="Manuel Sanchez"></a><header><h1>Manuel Sánchez</h1></header><main><p>Technical Manager at @everis | Microsoft MVP Azure at <a href=#>@Microsoft</a>| Founder and Organizer @netcoreconf & @CAT_zure</p></main><footer><ul class=socnet-icons><li><a href=//github.com/manuss20 target=_blank rel=noopener title=GitHub class="fab fa-github"></a></li><li><a href=//medium.com/@manuss20 target=_blank rel=noopener title=Medium class="fab fa-medium"></a></li><li><a href=//linkedin.com/in/manuss20 target=_blank rel=noopener title=LinkedIn class="fab fa-linkedin"></a></li><li><a href=//instagram.com/manuss20 target=_blank rel=noopener title=Instagram class="fab fa-instagram"></a></li><li><a href=//twitter.com/manuss20 target=_blank rel=noopener title=Twitter class="fab fa-twitter"></a></li></ul></footer></section><main id=site-main><article class=post><header><div class=title><h2><a href=/2019/05/07/azure-arm-templates/>Azure ARM Templates</a></h2><p>Las plantillas de Azure ARM (Azure Resource Manager) permite aprovisionar las aplicaciones usando una plantilla declarativa. En una sola plantilla, se pueden implementar varios servicios junto con sus dependencias. Se usa la misma plantilla para implementar repetidamente la aplicación durante cada etapa de su ciclo de vida.</p></div><div class=meta><time class=published datetime="2019-05-07 00:00:00 +0000 UTC">May 7, 2019</time>
<span class=author>Manuel Sanchez</span><p>3 minute read</p></div></header><section id=socnet-share><a href="//twitter.com/share?text=Azure%20ARM%20Templates&url=https%3a%2f%2fmanuss20.github.io%2f2019%2f05%2f07%2fazure-arm-templates%2f" target=_blank rel=noopener class="nav share-btn twitter"><i class="fab fa-twitter"></i><p>&nbsp;Twitter</p></a><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fmanuss20.github.io%2f2019%2f05%2f07%2fazure-arm-templates%2f" target=_blank rel=noopener class="nav share-btn facebook"><i class="fab fa-facebook"></i><p>&nbsp;Facebook</p></a><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fmanuss20.github.io%2f2019%2f05%2f07%2fazure-arm-templates%2f&title=Azure%20ARM%20Templates" target=_blank rel=noopener class="nav share-btn linkedin"><i class="fab fa-linkedin"></i><p>&nbsp;LinkedIn</p></a><a href="//www.reddit.com/submit?url=https%3a%2f%2fmanuss20.github.io%2f2019%2f05%2f07%2fazure-arm-templates%2f&title=Azure%20ARM%20Templates" target=_blank rel=noopener class="nav share-btn reddit"><i class="fab fa-reddit-alien"></i><p>&nbsp;Reddit</p></a><a href="mailto:?subject=Check%20out%20this%20post%20by Manuel%20Sanchez&body=https%3a%2f%2fmanuss20.github.io%2f2019%2f05%2f07%2fazure-arm-templates%2f" target=_blank class="nav share-btn email" data-proofer-ignore><i class="fas fa-envelope"></i><p>&nbsp;Email</p></a></section><a href=/2019/05/07/azure-arm-templates/ class="image featured"><img src=https://manuss20.github.io/img/posts/Azure-ARM.jpg alt></a><div class=content><p>Las plantillas de Azure ARM (Azure Resource Manager) permite aprovisionar las aplicaciones usando una plantilla declarativa. En una sola plantilla, se pueden implementar varios servicios junto con sus dependencias. Se usa la misma plantilla para implementar repetidamente la aplicación durante cada etapa de su ciclo de vida.</p><p>Esto nos ayudará a poder desplegar todos los componentes de nuestra solución, de una única vez, en un grupo de recursos concreto. De esta forma simplificamos la administración de éstos entre los diferentes entornos. Por ejemplo: desarrollo, preproducción y producción.</p><p>Vamos a crear un ejemplo sencillo de ARM siguiendo estos pasos:</p><p>Abrimos Visual Studio y seleccionamos un proyecto del tipo «Azure Resource Group»:</p><p><img src=/img/posts/ARM1.jpg alt="Creación del proyecto ARM en Visual Studio"></p><p>Cuando estamos creando nuestro proyecto nos solicitara elegir un tipo de plantilla, para este caso concreto seleccionaremos la plantilla del tipo “Web App”:</p><p><img src=/img/posts/ARM2.jpg alt="Selección del tipo de plantilla Web App"></p><p>Una vez seleccionado el tipo de plantilla nos creará nuestra solución que tendrá el siguiente aspecto:</p><p><img src=/img/posts/ARM3.jpg alt="Solución en Visual Studio"></p><p>El esquema que aparece en la foto anterior se puede apreciar 3 ficheros importantes:</p><ul><li><strong>Deploy-AzureResourceGroup.ps1: Script de despliegue.</strong></li><li><strong>WebSite.json: Fichero donde se encuentran definido los componentes a desplegar.</strong></li><li><strong>WebSite.parameters.json: Fichero que contiene los parámetros de configuración.</strong></li></ul><p>Dentro del fichero WebSite.json podemos observar el esquema de la plantilla que hemos creado. Por defecto incluye un montón de paramentos adicionales, aunque podemos simplificarlo con los siguientes elementos esenciales:</p><pre><code>{
  &quot;$schema&quot;: &quot;https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#&quot;,
  &quot;contentVersion&quot;: &quot;1.0.0.0&quot;,
  &quot;parameters&quot;: { },
  &quot;variables&quot;: { },
  &quot;resources&quot;: { },
  &quot;outputs&quot;: { },  
}
</code></pre><ul><li><strong>$Schema</strong>: Contiene el esquema JSON que se usará para la plantilla ARM.</li><li><strong>contentVersion</strong>: Especifica la versión de la plantilla que estás usando. Por defecto se asignará automáticamente el - valor inicial de 1.0.0.0</li><li><strong>Parameters</strong>: Son los parámetros que se pasan a la ejecución de la plantilla.</li><li><strong>Variables</strong>: Variables para poder reutilizarlas a lo largo de la plantilla.</li><li><strong>Resources</strong>: Epecifica los componentes que se van a desplegar.</li><li><strong>Outputs</strong>: Es la salida de resultados de la plantilla.</li></ul><p>Una vez tengamos la plantilla finalizada, procederemos a realizar el despliegue. Éste se puede realizar desde Visual Studio o desde PowerShell (en nuestro caso lo haremos desde Visual Studio):</p><p>Desde la solución hacemos click derecho sobre el proyecto -> Deploy -> new (tal y como vemos en la siguiente imagen):</p><p><img src=/img/posts/ARM4.jpg alt="Menu contextual desde la solución para realizar el Deploy"></p><p>Nos solicitará algunos parámetros indicando nuestra suscripción de Azure, y nos preguntará si queremos crear un nuevo grupo de recursos o crearlo en uno ya existente:</p><p><img src=/img/posts/ARM5.jpg alt="Formulario con los datos necesarios para el deploy"></p><p>Nos indicará si falta algún dato obligatorio para la ejecución:</p><p><img src=/img/posts/ARM6.jpg alt="Edición de los parámetros"></p><p>Una vez lanzado el deploy, podremos ver el output de resultados para asegurarnos que todo ha ido correctamente:</p><p><img src=/img/posts/ARM7.jpg alt="Ejecución en la consola y output con los resultados"></p><p>Una vez nos diga que está completado, podremos ir a nuestra suscripción de Azure, para comprobar que se han creado los recursos correctamente:</p><p><img src=/img/posts/ARM8.jpg alt="Portal de Azure"></p><h5 id=conclusiones><strong>Conclusiones:</strong></h5><ul><li>Permite desplegar, gestionar y controlar todos los recursos para su solución como un solo grupo, en lugar de - manejar estos recursos de manera individual.</li><li>Reutilizar esa implementación varias veces a lo largo de todo el ciclo de vida del desarrollo, y tener la - confianza de que sus recursos se despliegan correctamente.</li><li>Podemos definir las dependencias entre los recursos para que se desplieguen en el orden correcto.</li><li>Nos permite poder aplicar etiquetas a los recursos para organizarlos lógicamente en la suscripción.</li><li>Nos ayuda a gestionar nuestra infraestructura a través de plantillas declarativas en lugar de scripts.</li><li>Unificar la visualización de la facturación de tu organización mediante la visualización de los gastos para un - grupo de recursos que comparten la misma etiqueta.</li></ul><p>Saludos!</p></div><footer><ul class=stats><li class=categories><ul><li><a class=article-terms-link href=/categories/azure/>Azure</a></li><li><a class=article-terms-link href=/categories/arm/>ARM</a></li><li><a class=article-terms-link href=/categories/azure-arm/>Azure ARM</a></li><li><a class=article-terms-link href=/categories/cd/>CD</a></li><li><a class=article-terms-link href=/categories/ci/>CI</a></li><li><a class=article-terms-link href=/categories/deploy/>Deploy</a></li><li><a class=article-terms-link href=/categories/group-resources/>Group Resources</a></li><li><a class=article-terms-link href=/categories/templates/>Templates</a></li><li><a class=article-terms-link href=/categories/automation/>Automation</a></li><li><a class=article-terms-link href=/categories/cloud/>Cloud</a></li></ul></li><li class=tags><ul><li><a class=article-terms-link href=/tags/azure/>Azure</a></li><li><a class=article-terms-link href=/tags/arm/>ARM</a></li><li><a class=article-terms-link href=/tags/azure-arm/>Azure ARM</a></li><li><a class=article-terms-link href=/tags/cd/>CD</a></li><li><a class=article-terms-link href=/tags/ci/>CI</a></li><li><a class=article-terms-link href=/tags/deploy/>Deploy</a></li><li><a class=article-terms-link href=/tags/group-resources/>Group Resources</a></li><li><a class=article-terms-link href=/tags/templates/>Templates</a></li><li><a class=article-terms-link href=/tags/automation/>Automation</a></li><li><a class=article-terms-link href=/tags/cloud/>Cloud</a></li></ul></li></ul></footer></article><article class=post><div><h2>Say something</h2><form id=post-js-form class=post-new-comment method=post><h5 class="post-reply-notice hidden"><span class=post-reply-arrow></span><span class=post-reply-name></span></h5><input type=hidden name=options[entryId] value=ed3686180a5b81aa793401146dcdd357>
<input type=hidden name=fields[replyThread]>
<input type=hidden name=fields[replyID]>
<input type=hidden name=fields[replyName]>
<input required name=fields[name] type=text placeholder="Your name (Required)">
<input name=fields[website] type=text placeholder="Your website">
<input required name=fields[email] type=email placeholder="Your email address (Required for Gravatar)">
<textarea required name=fields[body] placeholder="Your message. Feel free to use Markdown (Google 'Markdown Cheat Sheet')." rows=10></textarea><p class=post-submit-notice><strong class="post-submit-notice-text submit-success hidden">Thanks for your comment! It will be shown on the site once it has been approved.</strong>
<strong class="post-submit-notice-text submit-failed hidden">Sorry, there was an error with your submission. Please make sure all required fields have been completed and try again.</strong></p><input type=submit value=Submit class=button>
<input type=submit value=Submitted class="hidden button" disabled>
<input type=reset value=Reset class=button></form></div><div><h2>Comments</h2></div></article><div class=pagination><a href=/2019/04/28/eventos-global-azure-bootcamp-2019/ class=button><div class=previous><div>[Eventos] Global Azure Bootcamp 2019</div></div></a><a href=/2019/06/01/azure-digital-twins/ class=button><div class=next><div>Azure Digital Twins</div></div></a></div></main><section id=site-sidebar><img src=/img/MVP_Logo.png><section id=recent-posts><header><h1>Recent posts</h1></header><article class=mini-post><header><h2><a href=/2021/11/09/azure-ad-managed-identity/>Azure AD Managed Identity</a></h2><time class=published datetime>November 9, 2021</time></header></article><article class=mini-post><header><h2><a href=/2020/03/14/dapr/>DAPR</a></h2><time class=published datetime>March 14, 2020</time></header></article><article class=mini-post><header><h2><a href=/2020/02/11/azure-keyvault-docker/>Azure KeyVault + Docker</a></h2><time class=published datetime>February 11, 2020</time></header></article><article class=mini-post><header><h2><a href=/2020/01/20/eventos-netcoreconf-barcelona-2020/>[Eventos] Netcoreconf Barcelona 2020</a></h2><time class=published datetime>January 20, 2020</time></header></article><article class=mini-post><header><h2><a href=/2019/11/22/monitorizaci%C3%B3n-de-aplicaciones-en-azure/>Monitorización de aplicaciones en Azure</a></h2><time class=published datetime>November 22, 2019</time></header></article></section><section id=categories><header><h1><a href=/categories>Categories</a></h1></header><a href=/tags/2019 style=font-size:1rem>2019</a>
<a href=/tags/active-directory style=font-size:1rem>active-directory</a>
<a href=/tags/ad style=font-size:1rem>ad</a>
<a href=/tags/aks style=font-size:1rem>aks</a>
<a href=/tags/architecture style=font-size:1rem>architecture</a>
<a href=/tags/arm style=font-size:1.5701406500739012rem>arm</a>
<a href=/tags/automation style=font-size:2.0098580625862277rem>automation</a>
<a href=/tags/automatizaci%C3%B3n style=font-size:1rem>automatización</a>
<a href=/tags/azure style=font-size:2.47033681894874rem>azure</a>
<a href=/tags/azure-application-insight style=font-size:1rem>azure-application-insight</a>
<a href=/tags/azure-arm style=font-size:1.5701406500739012rem>azure-arm</a>
<a href=/tags/azure-devops style=font-size:1rem>azure-devops</a>
<a href=/tags/azure-event-grid style=font-size:1rem>azure-event-grid</a>
<a href=/tags/azure-functions style=font-size:1rem>azure-functions</a>
<a href=/tags/azure-logic-apps style=font-size:1rem>azure-logic-apps</a>
<a href=/tags/azure-monitor style=font-size:1rem>azure-monitor</a>
<a href=/tags/azure-web-app style=font-size:1rem>azure-web-app</a>
<a href=/tags/azure-webapps style=font-size:1rem>azure-webapps</a>
<a href=/tags/beginners style=font-size:1rem>beginners</a>
<a href=/tags/cd style=font-size:1.5701406500739012rem>cd</a>
<a href=/tags/ci style=font-size:1.5701406500739012rem>ci</a>
<a href=/tags/cloud style=font-size:2.289578049778296rem>cloud</a>
<a href=/tags/community style=font-size:2.0791560995565916rem>community</a>
<a href=/tags/comunidad style=font-size:2.0098580625862277rem>comunidad</a>
<a href=/tags/containers style=font-size:1rem>containers</a>
<a href=/tags/dapr style=font-size:1rem>dapr</a>
<a href=/tags/deploy style=font-size:1.5701406500739012rem>deploy</a>
<a href=/tags/devops style=font-size:1rem>devops</a>
<a href=/tags/docker style=font-size:1rem>docker</a>
<a href=/tags/event style=font-size:2.0098580625862277rem>event</a>
<a href=/tags/event-grid style=font-size:1rem>event-grid</a>
<a href=/tags/eventos style=font-size:2.0098580625862277rem>eventos</a>
<a href=/tags/events style=font-size:1rem>events</a>
<a href=/tags/functions style=font-size:1rem>functions</a>
<a href=/tags/global-azure-bootcamp style=font-size:1rem>global-azure-bootcamp</a>
<a href=/tags/global-devops-bootcamp style=font-size:1rem>global-devops-bootcamp</a>
<a href=/tags/global-integration-bootcamp style=font-size:1rem>global-integration-bootcamp</a>
<a href=/tags/grid style=font-size:1rem>grid</a>
<a href=/tags/group-resources style=font-size:1.5701406500739012rem>group-resources</a>
<a href=/tags/groups style=font-size:1rem>groups</a>
<a href=/tags/iaas style=font-size:1rem>iaas</a>
<a href=/tags/iac style=font-size:1rem>iac</a>
<a href=/tags/identity style=font-size:1rem>identity</a>
<a href=/tags/integration style=font-size:1rem>integration</a>
<a href=/tags/lifecycle style=font-size:1rem>lifecycle</a>
<a href=/tags/managed-identity style=font-size:1rem>managed-identity</a>
<a href=/tags/micosoft style=font-size:1rem>micosoft</a>
<a href=/tags/microservices style=font-size:1rem>microservices</a>
<a href=/tags/microservicios style=font-size:1rem>microservicios</a>
<a href=/tags/monitoring style=font-size:1rem>monitoring</a>
<a href=/tags/netcore style=font-size:1.7194373997043944rem>netcore</a>
<a href=/tags/netcoreconf style=font-size:1.7194373997043944rem>netcoreconf</a>
<a href=/tags/networking style=font-size:2.0098580625862277rem>networking</a>
<a href=/tags/paas style=font-size:1rem>paas</a>
<a href=/tags/privileges style=font-size:1rem>privileges</a>
<a href=/tags/processes style=font-size:1rem>processes</a>
<a href=/tags/saas style=font-size:1.359718699852197rem>saas</a>
<a href=/tags/serverless style=font-size:1rem>serverless</a>
<a href=/tags/templates style=font-size:1.5701406500739012rem>templates</a>
<a href=/tags/terraforms style=font-size:1rem>terraforms</a>
<a href=/tags/users style=font-size:1rem>users</a>
<a href=/tags/workshops style=font-size:2.0098580625862277rem>workshops</a></section></section><footer id=site-footer><ul class=socnet-icons></ul><p class=copyright>&copy; 2021
Manuss20
.<br>Theme: <a href=https://github.com/pacollins/hugo-future-imperfect-slim target=_blank rel=noopener>Hugo Future Imperfect Slim</a><br>A <a href=https://html5up.net/future-imperfect target=_blank rel=noopener>HTML5 UP port</a> | Powered by <a href=https://gohugo.io/ title=0.75.1 target=_blank rel=noopener>Hugo</a></p></footer><a id=back-to-top href=# class="fas fa-arrow-up fa-2x"></a><script src=/js/highlight.js></script><script>hljs.initHighlightingOnLoad();</script><script src=/js/bundle.min.7a55f15ad36a5371fc62493fff6c6c022a0c5503b92cfc80271544480f76a5a3.js integrity="sha256-elXxWtNqU3H8Ykk//2xsAioMVQO5LPyAJxVESA92paM="></script><script src=/js/add-on.js></script></div></body></html>